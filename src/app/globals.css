@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   1. ğŸ¯ æ ¸å¿ƒä¿®å¤ï¼šåŠ¨æ€é€‰ä¸­é¢œè‰²
   ========================================= */
:root {
  /* é»˜è®¤é€‰ä¸­é¢œè‰² (è“åº•ç™½å­—) */
  --selection-bg: #3b82f6; 
  --selection-text: #ffffff;
  
  /* åŸºç¡€å˜é‡ */
  --background: #0f172a;
  --surface: #1e293b;
  --primary: #6366f1;
  --primary-fg: #ffffff;
  --text: #f8fafc;
  --text-muted: #94a3b8;
  --border: #334155;
  --radius: 12px;
  --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --font-body: var(--font-inter);
}

/* ğŸ”´ å…¨å±€åº”ç”¨ï¼šä½¿ç”¨å˜é‡æ§åˆ¶é€‰ä¸­æ ·å¼ */
::selection {
  background-color: var(--selection-bg);
  color: var(--selection-text);
}
::-moz-selection {
  background-color: var(--selection-bg);
  color: var(--selection-text);
}

/* æ»šåŠ¨æ¡æ ·å¼ */
.custom-scrollbar::-webkit-scrollbar { width: 6px; }
.custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
.custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(255, 255, 255, 0.1); border-radius: 20px; }
.rounded-theme { border-radius: var(--radius); }

/* =========================================
   2. ä¸»é¢˜å®šä¹‰ (åœ¨è¿™é‡Œåˆ†åˆ«è®¾ç½®é€‰ä¸­é¢œè‰²)
   ========================================= */

/* --- A. é»˜è®¤ä¸»é¢˜ (Default) --- */
[data-theme='default'] {
  /* ä½¿ç”¨é»˜è®¤å˜é‡ï¼Œæ— éœ€é‡å†™ */
}

/* --- B. ğŸŒ² æ£®ç³» (Forest) - é‡ç‚¹ä¿®å¤ --- */
[data-theme='forest'] {
  --background: #ecfdf5;
  --surface: #ffffff;
  --primary: #059669;
  --primary-fg: #ffffff;
  --text: #064e3b; /* æ·±ç»¿è‰²ï¼Œç¡®ä¿æ¸…æ™°å¯è¯» */
  --text-muted: #047857; /* æ”¹ä¸ºæ›´æ·±çš„ç»¿è‰²ï¼Œæé«˜å¯è¯»æ€§ */
  --border: #6ee7b7;
  --radius: 16px;
  --shadow: 0 10px 30px rgba(5, 150, 105, 0.15);
  --font-body: var(--font-nunito);

  /* âœ… ä¿®å¤æ£®ç³»é€‰ä¸­çœ‹ä¸æ¸…çš„é—®é¢˜ */
  /* è®¾ç½®ä¸ºï¼šæ·±ç»¿èƒŒæ™¯ + ç™½è‰²æ–‡å­— -> å¯¹æ¯”åº¦æé«˜ï¼Œç»å¯¹æ¸…æ™° */
  --selection-bg: #047857; /* æ·±ç¿¡ç¿ ç»¿ */
  --selection-text: #ffffff;
}

/* ç¡®ä¿æ£®ç³»ä¸»é¢˜ä¸‹æ‰€æœ‰æ–‡å­—éƒ½æ¸…æ™°å¯è§ */
[data-theme='forest'] * {
  color: inherit;
}

[data-theme='forest'] .text-text-muted {
  color: #047857 !important; /* å¼ºåˆ¶ä½¿ç”¨æ·±ç»¿è‰²ï¼Œç¡®ä¿å¯è¯»æ€§ */
}

[data-theme='forest'] .text-text {
  color: #064e3b !important; /* ç¡®ä¿ä¸»æ–‡å­—é¢œè‰² */
}

[data-theme='forest'] .rounded-theme {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(8px);
  box-shadow: var(--shadow);
}

/* --- C. ğŸ‘¾ èµ›åšæœ‹å…‹ (Cyberpunk) --- */
[data-theme='cyberpunk'] {
  --background: #050505;
  --surface: #000000;
  --primary: #00ff41;
  --primary-fg: #000000;
  --text: #00ff41;
  --text-muted: #008f11;
  --border: #00ff41;
  --radius: 0px;
  --shadow: 0 0 20px rgba(0, 255, 65, 0.2);
  --font-body: var(--font-mono);

  /* âœ… èµ›åšæœ‹å…‹é€‰ä¸­é£æ ¼ */
  /* è§å…‰ç»¿èƒŒæ™¯ + é»‘è‰²æ–‡å­— */
  --selection-bg: #00ff41;
  --selection-text: #000000;
}

[data-theme='cyberpunk'] .rounded-theme {
  border: 1px solid var(--border);
  box-shadow: 0 0 10px var(--border), inset 0 0 5px rgba(0, 255, 65, 0.1);
  text-shadow: 0 0 5px var(--primary);
}
[data-theme='cyberpunk'] button:hover {
  background-color: var(--primary);
  color: #000;
  box-shadow: 0 0 20px var(--primary);
}

/* --- D. ğŸ“¼ èƒ¶ç‰‡/å¤å¤ (Film) --- */
[data-theme='film'] {
  --background: #1c1917;
  --surface: #292524;
  --primary: #fbbf24;
  --primary-fg: #1c1917;
  --text: #e7e5e4;
  --text-muted: #a8a29e;
  --border: #44403c;
  --radius: 2px;
  --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
  --font-body: var(--font-playfair);

  /* âœ… èƒ¶ç‰‡é€‰ä¸­é£æ ¼ */
  /* ç¥ç€è‰²èƒŒæ™¯ + æ·±æ£•è‰²æ–‡å­— */
  --selection-bg: #fbbf24;
  --selection-text: #1c1917;
}

[data-theme='film'] .rounded-theme {
  border: 1px double var(--border);
  filter: sepia(0.2);
}

/* --- E. ğŸ‘¾ åƒç´ é£æ ¼ (Pixel) --- */
[data-theme='pixel'] {
  --background: #ffffff;
  --surface: #f3f4f6;
  --primary: #000000;
  --primary-fg: #ffffff;
  --text: #000000;
  --text-muted: #6b7280;
  --border: #000000;
  --radius: 0px;
  --shadow: 4px 4px 0px 0px #000000;
  --font-body: var(--font-pixel);

  /* âœ… åƒç´ é€‰ä¸­é£æ ¼ */
  /* é»‘è‰²èƒŒæ™¯ + ç™½è‰²æ–‡å­— (ç»å…¸å¤å¤) */
  --selection-bg: #000000;
  --selection-text: #ffffff;
}

[data-theme='pixel'] .rounded-theme {
  border: 4px solid var(--border);
  box-shadow: var(--shadow);
}
[data-theme='pixel'] button:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0px 0px #000000;
}

/* --- F. âœï¸ æ‰‹ç»˜å°è±¡ (BW) - ä¿®å¤æ–‡å­—æ¸…æ™°åº¦ --- */
[data-theme='bw'] {
  --background: #fdfbf7;
  --surface: #ffffff;
  --primary: #1a1a1a; /* æ”¹ä¸ºçº¯é»‘è‰²ï¼Œæé«˜å¯¹æ¯”åº¦ */
  --primary-fg: #ffffff;
  --text: #000000; /* æ”¹ä¸ºçº¯é»‘è‰²ï¼Œç¡®ä¿æœ€å¤§æ¸…æ™°åº¦ */
  --text-muted: #2d2d2d; /* æ”¹ä¸ºæ›´æ·±çš„ç°è‰²ï¼Œæé«˜å¯è¯»æ€§ */
  --border: #1a1a1a;
  --radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
  --shadow: 2px 2px 0px rgba(0,0,0,0.1);
  --font-body: var(--font-serif-sc);

  /* âœ… æ‰‹ç»˜é€‰ä¸­é£æ ¼ */
  /* æ·±ç°èƒŒæ™¯ + ç™½è‰²æ–‡å­—ï¼Œä¿æŒé»‘ç™½è‰²è°ƒ */
  --selection-bg: #1a1a1a; /* çº¯é»‘è‰²èƒŒæ™¯ */
  --selection-text: #ffffff;
}

/* ç¡®ä¿æ‰‹ç»˜ä¸»é¢˜ä¸‹æ‰€æœ‰æ–‡å­—éƒ½æ¸…æ™°å¯è§ */
[data-theme='bw'] .text-text-muted {
  color: #2d2d2d !important; /* å¼ºåˆ¶ä½¿ç”¨æ·±ç°è‰²ï¼Œç¡®ä¿å¯è¯»æ€§ */
}

[data-theme='bw'] .text-text {
  color: #000000 !important; /* ç¡®ä¿ä¸»æ–‡å­—æ˜¯çº¯é»‘è‰² */
}

[data-theme='bw'] .rounded-theme {
  border: 2px solid #1a1a1a;
  background: #ffffff;
  border-radius: var(--radius);
  box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
  color: #000000 !important; /* å¼ºåˆ¶ä½¿ç”¨é»‘è‰²æ–‡å­— */
  transform: none !important; /* ä¿®æ­£æ­ªæ–œ */
}
[data-theme='bw'] .rounded-theme:hover {
  transform: scale(1.01) !important;
}

/* ç¡®ä¿æ‰‹ç»˜ä¸»é¢˜çš„èƒŒæ™¯è‰²æ­£ç¡® - å…¨é¢è¦†ç›–æ‰€æœ‰å¯èƒ½çš„é»‘è‰²èƒŒæ™¯ */
[data-theme='bw'] {
  background-color: #fdfbf7 !important;
}

[data-theme='bw'] .bg-background {
  background-color: #fdfbf7 !important;
}

[data-theme='bw'] .bg-surface {
  background-color: #ffffff !important;
}

/* è¦†ç›–æ‰€æœ‰é»‘è‰²åŠé€æ˜èƒŒæ™¯ - ä½¿ç”¨å±æ€§é€‰æ‹©å™¨åŒ¹é…Tailwindç±» */
[data-theme='bw'] [class*="bg-black"] {
  background-color: rgba(253, 251, 247, 0.1) !important;
}

/* ç‰¹æ®Šå¤„ç†å®Œå…¨ä¸é€æ˜çš„é»‘è‰²èƒŒæ™¯ */
[data-theme='bw'] [class*="bg-black"][class*="/90"],
[data-theme='bw'] [class*="bg-black"][class*="/80"] {
  background-color: rgba(253, 251, 247, 0.2) !important;
}

/* è¦†ç›–ä¾§è¾¹æ èƒŒæ™¯ */
[data-theme='bw'] aside {
  background-color: rgba(253, 251, 247, 0.3) !important;
}

/* è¦†ç›–æ‰€æœ‰å¯èƒ½çš„æ·±è‰²èƒŒæ™¯ç±» */
[data-theme='bw'] .bg-slate-950,
[data-theme='bw'] .bg-slate-900,
[data-theme='bw'] .bg-gray-900,
[data-theme='bw'] .bg-black {
  background-color: #fdfbf7 !important;
}

/* ç¡®ä¿æ‰‹ç»˜ä¸»é¢˜ä¸‹çš„æŒ‰é’®å’Œé“¾æ¥æ–‡å­—æ¸…æ™° */
[data-theme='bw'] button,
[data-theme='bw'] a,
[data-theme='bw'] input,
[data-theme='bw'] textarea,
[data-theme='bw'] select {
  color: #000000 !important;
}

/* æ‰‹ç»˜ä¸»é¢˜æŒ‰é’®é€‰ä¸­çŠ¶æ€ - ç¡®ä¿æ–‡å­—æ¸…æ™°å¯è§ */
[data-theme='bw'] button[class*="bg-primary"] {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
  border-color: #1a1a1a !important;
}

/* æ‰‹ç»˜ä¸»é¢˜æŒ‰é’®æ–‡å­—é¢œè‰²è¦†ç›– - é€‰ä¸­çŠ¶æ€ */
[data-theme='bw'] button[class*="bg-primary"][class*="text-primary-fg"],
[data-theme='bw'] button[class*="bg-primary"] {
  color: #ffffff !important;
}

/* æ‰‹ç»˜ä¸»é¢˜æŒ‰é’®æœªé€‰ä¸­çŠ¶æ€ */
[data-theme='bw'] button:not([class*="bg-primary"]) {
  background-color: transparent !important;
  color: #000000 !important;
  border-color: #1a1a1a !important;
}

/* æ‰‹ç»˜ä¸»é¢˜ - ç¡®ä¿æ‰€æœ‰æŒ‰é’®æ–‡å­—åœ¨é€‰ä¸­æ—¶éƒ½æ˜¯ç™½è‰² */
[data-theme='bw'] button[class*="!bg-primary"] {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
}

/* æ‰‹ç»˜ä¸»é¢˜ä¸‹çš„æ¬¡è¦æ–‡å­—ä¹Ÿè¦æ¸…æ™° */
[data-theme='bw'] .text-slate-500,
[data-theme='bw'] .text-slate-400,
[data-theme='bw'] .text-gray-500,
[data-theme='bw'] .text-gray-400 {
  color: #2d2d2d !important;
}

/* =========================================
   3. åŠ¨ç”»å®šä¹‰
   ========================================= */
@keyframes wave-rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes breathe {
  0%, 100% { transform: scale(1); filter: brightness(1); }
  50% { transform: scale(1.02); filter: brightness(1.1); }
}
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

.btn-bounce {
  transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.2s ease;
}
.btn-bounce:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px -10px rgba(0,0,0,0.1);
}
.btn-bounce:active {
  transform: scale(0.95) translateY(0);
}

body {
  transition: background-color 0.5s ease, color 0.5s ease;
  font-family: var(--font-body), sans-serif;
}